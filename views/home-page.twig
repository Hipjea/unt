{% extends "base.twig" %}

{% block content %}
    <div class="content-text">
        <div class="wp-home-text">
            {{ homePageModel.paragrapheIntroduction }}
        </div>
    </div>

    {% if aLaUneModel is not empty %}
        <div class="a-la-une-wrapper home-container">
            <div class="a-la-une">
                <h1 class="text-center mb-5">{{ appMessage[currentLang].homeALaUne }}</h1>
                <div class="container carousel-container">
                    <div class="row">
                        <div id="a-la-une-left-arrow" class="col-2 col-xl-1 arrow-div"><div class="left-arrow"></div></div>
                        <div class="col-8 col-xl-10">
                            <div class="owl-carousel-a-la-une owl-carousel owl-theme">
                                {% for i in 0..aLaUneModel|length-1 %}
                                    {%  set carteALaUne = aLaUneModel[i] %}
                                    <a href="{{ carteALaUne.url }}">
	                                    <div class="carte-notice">
	                                        {% if carteALaUne.title is empty and carteALaUne.description is empty %}
	                                            <img class="carte-notice-image-full" src="{{ carteALaUne.imageUrl }}" />
	                                            <div class="carte-notice-texte">
	                                            </div>
	                                            <div class="carte-a-la-une-footer">
	                                                <div class="a-la-une-liens-footer">
	                                                    <span>Lire la suite <i class="fas fa-angle-right"></i></span>
	                                                </div>
	                                            </div>
	                                        {% else %}
	                                            <img class="carte-notice-image" src="{{ carteALaUne.imageUrl }}" />
	                                            <div class="carte-notice-texte">
	                                                <h1>{{ carteALaUne.title }}</h1>
	                                                <div class="carte-notice-description">
	                                                    {{ carteALaUne.description }}
	                                                </div>
	                                            </div>
	                                            <div class="carte-a-la-une-footer">
	                                                <div class="a-la-une-liens-footer">
	                                                    <span>{{ appMessage[currentLang].homeLireSuite }} <i class="fas fa-angle-right"></i></span>
	                                                </div>
	                                            </div>
	                                        {% endif %}
	                                    </div>
                                    </a>
                                {% endfor %}
                            </div>
                        </div>
                        <div id="a-la-une-right-arrow" class="col-2 col-xl-1 arrow-div"><div class="right-arrow"></div></div>
                    </div>
                </div>
            </div>
        </div>
    {% endif %}

    {% if listeZoomSur is defined and listeZoomSur is not null %}
        <div class="zoom-sur-wrapper home-container">
            <div class="zoom-sur">
                <div class="container carousel-container">
                    <div class="row">
                        <div class="col-md-2">
                            <h1>{{ appMessage[currentLang].homeZoomSur }}</h1>
                            <h2>{{ appMessage[currentLang].homeSelectionRessource }}</h2>
                        </div>
                        <div class="col-md-10 zoom-sur-carousel-wrapper">
                            <div id="zoom-sur-carousel">
                                <div id="carouselZoomSur" class="owl-carousel owl-theme">
                                    {% for zoomSurItem in listeZoomSur.notices %}
                                        {% if zoomSurItem.displayInIframe == 1 or zoomSurItem.ressourceType == 'html' %}
                                            {% set urlRessource = site.link~"/ressource?uuid="~notice.uuid %}
                                        {% elseif zoomSurItem.ressourceType == 'url' or zoomSurItem.ressourceType == 'file' %}
                                            {% set urlRessource = zoomSurItem.ressource %}
                                        {% else %}
                                            {% set urlRessource = "#" %}
                                        {% endif %}
                                        <div class="carte-zoom-sur">
                                            {% if zoomSurItem.image %}
                                                <a href="{{ urlRessource }}" target="_blank" >
                                                    <img class="carte-zoom-sur-image" src="{{ zoomSurItem.image }}" />
                                                </a>
                                            {% endif %}
                                            <div class="carte-zoom-sur-titre">
                                                <a href="{{ urlRessource }}" target="_blank" >
                                                    {{ zoomSurItem.titre|slice(0, 50) }}
                                                </a>
                                            </div>
                                            <div class="carte-zoom-sur-description"> {{ zoomSurItem.description }}</div>
                                        </div>
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    {% endif %}

    <div class="container-fluid fat-container home-container mb-0">
        <div class="container">
            <div class="content-text fat-text">
                {{ homePageModel.content }}
            </div>
        </div>
    </div>

    <div class="container-fluid fat-container container-white home-container pt-150 pb-150">
        <div class="container">
            {% if projects_children %}
                <div class="row">
                    <div class="projects-spread col-12 col-md-6">
                        {% for child in projects_children %}
                            <div class="card">
                                <a class="projects-spread-link" href="{{ child.link }}">
                                    <img src="{{ child.topImage.src|letterbox(400, 250, '#FFFFFF') }}" class="card-img-top" alt="{{ child.title }}">
                                    <div class="card-body">
                                        <h5 class="card-title">{{ child.title }}</h5>
                                        <p class="card-text">
                                            <a href="{{ child.link }}">{{ child.title }}</a>
                                        </p>
                                    </div>
                                </a>
                            </div>
                        {% endfor %}
                    </div>
                    <div class="col-12 col-md-6 home-container-text">
                        <h1 class="home-part-title mb-4">{{ appMessage[currentLang].ourProjects }}</h1>
                        <p>La Fondation apporte un soutien financier à l’innovation pédagogique en organisant annuellement un appel 
                        à projets auprès de ses membres. Ce sont ainsi plus de 250 actions qui ont été co-financées depuis la création d’UNIT.</p>
                    </div>
                </div>
            {% endif %}
        </div>
    </div>

    <div class="container home-container">
        {% if partnersList is not empty %}
            <h1 class="home-part-title text-center mb-5">Établissements membres</h1>
            <div class="row">
                {% for partners in partnersList %}
                    {% if partners is not null %}
                        <div class="col-md-3">
                            <a class="carte-actualite-lien scale-card-link" 
                                href="{{ partners.url }}" 
                                target="_blank" 
                                alt="site web {{ partners.title }}"
                                data-toggle="tooltip" data-placement="top" title="{{ partners.title }}">
                                <div class="carte-actualite scale-card">
                                    <img class="carte-actualite-image" src="{{ partners.imageUrl }}" />
                                </div>
                            </a>
                        </div>
                    {% endif %}
                {% endfor %}
                <div id="partners-anchor"></div>
            </div>
        {% endif %}
    </div>

    <div class="inscription-newsletter-wrapper">
        <div class="inscription-newsletter-wrapper-color">
            <div class="inscription-newsletter">
                <h1>{{ appMessage[currentLang].homeInscrireNewsletter }}</h1>
                <div>{{ appMessage[currentLang].homeValidNewsLetter }}</div>
                <div class="mail-form mt-3">
                    <a href="{{site.url}}/{{ homePageModel.newsletterLink }}" class="btn">S'abonner à la newsletter</a>
                </div>
            </div>
        </div>
    </div>


{% endblock %}
